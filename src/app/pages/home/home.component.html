<div class="topsec mb-5">
  <owl-carousel-o *ngIf="mainSecSlider.length > 0" [options]="mainSecOptions">
    <ng-container *ngFor="let data of mainSecSlider">
      <ng-template carouselSlide>
        <section
          [ngStyle]="{
            background:
              'linear-gradient(to top, rgba(0,0,0,0.5), rgba(0,0,0,0.2)), url(' +
              data.src +
              ') center no-repeat',
            'background-size': 'cover'
          }"
          class="mainSec pb-5 position-relative z-1"
        >
          <div
            class="container d-flex align-items-center justify-content-center flex-column"
          >
            <div class="content my-5 text-capitalize text-center text-white">
              <h2 class="mb-3">find your next place to visit</h2>
              <p>
                discover amazing places at exclusive deals and enjoy your
                holiday
              </p>
            </div>
            <!-- form search -->
            <div class="formBox p-0 mb-md-0">
              <form
                [formGroup]="searchForm"
                (ngSubmit)="onSubmit()"
                class="row justify-content-center rounded-pill overflow-hidden"
              >
                <div class="col-md-4 col-sm-8 order-md-1 order-3 px-0 bg-white">
                  <div class="text-capitalize textMainColor text-start">
                    <select
                      formControlName="location"
                      class="p-2 rounded-1 text-secondary"
                    >
                      <option
                        value=""
                        disabled
                        selected
                        class="bg-secondary text-white"
                      >
                        Where would you like to go?
                      </option>
                      @for (des of allDestinations; track $index) {
                      <option [value]="des.id">{{ des.title }}</option>
                      }
                    </select>
                  </div>
                </div>
                <div class="col-md-3 col-sm-6 px-0 bg-white">
                  <div class="text-capitalize textMainColor text-start">
                    <select
                      formControlName="type"
                      class="p-2 rounded-1 text-secondary"
                    >
                      <option
                        value=""
                        disabled
                        selected
                        class="bg-secondary text-white"
                      >
                        Trip Type
                      </option>
                      @for (cat of allCategories; track $index) {

                      <option [value]="cat.id">{{ cat.title }}</option>
                      }
                    </select>
                  </div>
                </div>
                <div class="col-md-3 col-sm-6 px-0 bg-white">
                  <div class="text-capitalize textMainColor text-start">
                    <select
                      formControlName="duration"
                      class="p-2 py-2 text-secondary"
                    >
                      <option
                        value=""
                        disabled
                        selected
                        class="bg-secondary text-white"
                      >
                        when you go to?
                      </option>
                      @for (time of allDurations; track $index) {

                      <option [value]="time.id">{{ time.title }}</option>
                      }
                    </select>
                  </div>
                </div>

                <div class="col-md-2 col-sm-4 order-4 px-0">
                  <div class="text-capitalize flexCenter">
                    <button
                      type="submit"
                      class="mainBtn Btn flexBetween w-100 rounded-start-0"
                    >
                      Search<i
                        class="fa fa-magnifying-glass-plus bgPrimaryWhiteColor textMainColor rounded-circle"
                      ></i>
                    </button>
                  </div>
                </div>
              </form>
            </div>
          </div>
        </section>
      </ng-template>
    </ng-container>
  </owl-carousel-o>
</div>

<app-aboutsection></app-aboutsection>

<section class="carts py-5 my-5">
  <div class="container">
    <div class="row g-4 my-5">
      <div class="col-xl-4 col-lg-6 col-md-12">
        <div class="sideBar position-relative p-4 rounded-4 h-100">
          <div class="iconBox-bg">
            <img src="../../../assets/image/world.svg" alt="icon image" />
          </div>
          <div class="content-overlay">
            <h6 class="textSecondColor text-capitalize fw-bold h5 mb-3">
              <i class="fa fa-globe"></i> Our Packages
            </h6>
            <p class="mb-0 text-muted">
              Embark on once-in-a-lifetime adventures with our Middle Eastern
              tours. From the iconic landmarks to ancient wonders and beyond,
              our tours are designed to immerse you in the fascinating history
              and vibrant cultures. You can choose the exclusivity of private
              excursions or the camaraderie of a small group, our tours are
              fully customizable to suit your preferences, ensuring an
              extraordinary.
            </p>
          </div>
        </div>
      </div>

      <div class="col-xl-4 col-lg-6 col-md-12">
        <div class="sideBar position-relative p-4 rounded-4 h-100">
          <div class="iconBox-bg">
            <img src="../../../assets/image/deal.svg" alt="icon image" />
          </div>
          <div class="content-overlay">
            <h6 class="textSecondColor text-capitalize fw-bold h5 mb-3">
              <i class="fa fa-ticket-alt"></i> Ticketing
            </h6>
            <p class="mb-0 text-muted">
              Leave the hassle of ticketing and transfers to us. We book airline
              and train tickets effortlessly, and ensure smooth, stress-free
              transitions throughout your journey. We can accommodate any
              budget, ensuring a seamless and comfortable experience from start
              to finish.
            </p>
          </div>
        </div>
      </div>

      <div class="col-xl-4 col-lg-6 col-md-12">
        <div class="sideBar position-relative p-4 rounded-4 h-100">
          <div class="iconBox-bg">
            <img src="../../../assets/image/support.svg" alt="icon image" />
          </div>
          <div class="content-overlay">
            <h6 class="textSecondColor text-capitalize fw-bold h5 mb-3">
              <i class="fa fa-headset"></i> 24/7 Customer Service
            </h6>
            <p class="mb-0 text-muted">
              We're here for you around the clock! Our dedicated support team
              assists travelers before, during, and after their tripsâ€”ensuring
              peace of mind and quick solutions for any travel need, anytime,
              anywhere.
            </p>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<section class="my-5 py-5">
  <div class="container">
    <div class="secTitle text-center">
      <span
        class="box bgMainColor text-white text-uppercase border rounded-pill p-2 transition"
      >
        <span
          class="bg-white textMainColor rounded-circle transition d-inline-block"
          ><i class="fa fa-plane me-2 ps-1"></i
        ></span>

        destinations
      </span>
      <h2 class="my-3 textSecondColor fw-bold">Featured Destinations</h2>
    </div>

    <div class="row g-4 mt-4">
      @if (allDestinations.length > 0) { @for (des of allDestinations; track
      $index) {
      <div class="col-lg-3 col-md-4 col-sm-6">
        <app-destination-cart [destination]="des"></app-destination-cart>
      </div>
      } } @else {
      <div class="col-12 text-center">
        <p class="text-muted">Loading destinations...</p>
      </div>
      }
    </div>

    <!-- View All Destinations Button -->
    <div class="text-center mt-5">
      <button
        routerLink="/destination"
        class="mainBtn Btn px-5 py-3 rounded-6 text-uppercase"
      >
        View All Destinations
      </button>
    </div>
  </div>
</section>

<section class="destinations py-5">
  <div
    class="container-fluid px-0 d-flex align-items-center flex-wrap flex-lg-nowrap gap-4 gap-lg-0"
  >
    <div class="desTitle d-flex flex-column justify-content-center">
      <h2 class="">Multi-days Tours</h2>
      <p>
        Experience a journey through multiple destinations with expertly curated
        itineraries that connect you to the best each country has to offer.
      </p>
      <button class="secBtn Btn">explore tour</button>
    </div>

    <div class="desTours z-3 ps-5 pe-0 py-5">
      <owl-carousel-o
        class="m-5"
        *ngIf="shuffledTours.length > 0"
        [options]="destinationOptions"
      >
        @for (tour of shuffledTours; track $index) {
        <ng-template carouselSlide>
          <div class="my-3 ms-4">
            <app-tour-cart [tour]="tour"></app-tour-cart>
          </div>
        </ng-template>
        }
      </owl-carousel-o>
    </div>
  </div>
</section>

<section
  class="makeTrip text-center position-relative overflow-hidden bgPrimaryColor"
>
  <div>
    <div class="floating_box c0 d-none d-md-block"></div>
    <div class="floating_box c1"></div>
    <div class="floating_box c2"></div>
    <div class="floating_box c3"></div>
    <div class="floating_box c4 d-none d-md-block"></div>
    <div class="floating_box c5"></div>
    <div class="floating_box c6"></div>
    <div class="floating_box c7 d-none d-md-block"></div>
    <div class="floating_box c8 d-none d-md-block"></div>
  </div>

  <div class="cards">
    <div class="card card1"></div>
    <div class="card card2"></div>
    <div class="card card3"></div>
  </div>

  <div class="caption text-center text-capitalize text-white">
    <h2>customize Your Trip From Scratch</h2>
    <p>
      Design every detail of your journey, from destinations and activities to
      accommodations, to create a uniquely yours travel experience.
    </p>
    <button routerLink="/makeTrip" class="mainBtn Btn px-5 py-3 rounded-3">
      plan your trip
    </button>
  </div>
</section>

<section class="team mt-5 pt-5">
  <div class="container">
    <div class="secTitle text-center">
      <span
        class="box bgMainColor text-white text-uppercase border rounded-pill p-2 transition"
      >
        <span
          class="bg-white textMainColor rounded-circle transition d-inline-block"
          ><i class="fa fa-plane me-2 ps-1"></i
        ></span>

        our team
      </span>
      <h2 class="my-3 textSecondColor fw-bold">Meet With Our Experts Team</h2>
    </div>

    <app-team-cart></app-team-cart>
  </div>
</section>

<section class="testimonial my-5 py-5">
  <div class="container">
    <div class="secTitle text-center pt-5 mb-5">
      <span
        class="box bgMainColor text-white text-uppercase border rounded-pill p-2 transition"
      >
        <span
          class="bg-white textMainColor rounded-circle transition d-inline-block"
          ><i class="fa fa-plane me-2 ps-1"></i
        ></span>

        testmonials
      </span>
      <h2 class="my-3 h5 textSecondColor fw-bold">
        What Our Customers Are Saying About Us?
      </h2>
    </div>

    <app-testimonial-cart></app-testimonial-cart>
  </div>
</section>

<section class="blogs my-5 py-5">
  <div class="container">
    <div class="secTitle text-center">
      <span
        class="box bgMainColor text-white text-uppercase border rounded-pill p-2 transition"
      >
        <span
          class="bg-white textMainColor rounded-circle transition d-inline-block"
          ><i class="fa fa-plane me-2 ps-1"></i
        ></span>

        our blog
      </span>
      <h2 class="my-3 textSecondColor fw-bold">Our Latest Blog & News</h2>
    </div>

    <!-- This fetches blogs and stores them -->
    <app-blog-cart (blogsLoaded)="onBlogsLoaded($event)"></app-blog-cart>
  </div>
</section>

<app-partner-slider></app-partner-slider>
